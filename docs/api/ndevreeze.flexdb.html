<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ndevreeze.flexdb documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Flexdb</span> <span class="project-version">0.4.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to flexdb</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ndevreeze</span></div></div></li><li class="depth-2 branch current"><a href="ndevreeze.flexdb.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flexdb</span></div></a></li><li class="depth-2 branch"><a href="ndevreeze.flexdb-pg.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flexdb-pg</span></div></a></li><li class="depth-2"><a href="ndevreeze.flexdb-sqlite.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flexdb-sqlite</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ndevreeze.flexdb.html#var-*DEBUG*"><div class="inner"><span>*DEBUG*</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-alter-table"><div class="inner"><span>alter-table</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-close-db"><div class="inner"><span>close-db</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-column-exists.3F"><div class="inner"><span>column-exists?</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-column-meta-data"><div class="inner"><span>column-meta-data</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-column-name"><div class="inner"><span>column-name</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-column-with-datatype"><div class="inner"><span>column-with-datatype</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-columns"><div class="inner"><span>columns</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-create-table"><div class="inner"><span>create-table</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-current-connection"><div class="inner"><span>current-connection</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-db-class-map"><div class="inner"><span>db-class-map</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-db-value"><div class="inner"><span>db-value</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-db-values"><div class="inner"><span>db-values</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-dquoted"><div class="inner"><span>dquoted</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-dquoted-record"><div class="inner"><span>dquoted-record</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-exec"><div class="inner"><span>exec</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-get-first-id"><div class="inner"><span>get-first-id</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-id-spec"><div class="inner"><span>id-spec</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-in-transaction"><div class="inner"><span>in-transaction</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-in-transaction.3F"><div class="inner"><span>in-transaction?</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-insert"><div class="inner"><span>insert</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-insert-no-check"><div class="inner"><span>insert-no-check</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-insert-opt"><div class="inner"><span>insert-opt</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-log.21"><div class="inner"><span>log!</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-map-kv"><div class="inner"><span>map-kv</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-map-kv-key"><div class="inner"><span>map-kv-key</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-new-columns"><div class="inner"><span>new-columns</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-open-db"><div class="inner"><span>open-db</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-open-db-spec"><div class="inner"><span>open-db-spec</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-open-db-sqlite"><div class="inner"><span>open-db-sqlite</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-query"><div class="inner"><span>query</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-set-init-function"><div class="inner"><span>set-init-function</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-set-transaction"><div class="inner"><span>set-transaction</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-sql-db-type"><div class="inner"><span>sql-db-type</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-sql-db-types"><div class="inner"><span>sql-db-types</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-surround-brackets"><div class="inner"><span>surround-brackets</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-table-exists.3F"><div class="inner"><span>table-exists?</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-table-meta-data"><div class="inner"><span>table-meta-data</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-tables"><div class="inner"><span>tables</span></div></a></li><li class="depth-1"><a href="ndevreeze.flexdb.html#var-unset-transaction"><div class="inner"><span>unset-transaction</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ndevreeze.flexdb</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*DEBUG*"><h3>*DEBUG*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L14">view source</a></div></div><div class="public anchor" id="var-alter-table"><h3>alter-table</h3><div class="usage"><code>(alter-table db-handle table columns)</code></div><div class="doc"><div class="markdown"><p>Alter table, add column(s) table - keyword or string columns - vector of :keyword, string, vector (name, type) or map (:name, :type) Create table iff not exists. Return - void.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L225">view source</a></div></div><div class="public anchor" id="var-close-db"><h3>close-db</h3><div class="usage"><code>(close-db db-handle)</code></div><div class="doc"><div class="markdown"><p>Close a DB handle (SQLiteConnection or Postgres for now, could be changed) Could contain prepared statements and meta-data in the future</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L57">view source</a></div></div><div class="public anchor" id="var-column-exists.3F"><h3>column-exists?</h3><div class="usage"><code>(column-exists? db-handle table column)</code></div><div class="doc"><div class="markdown"><p>Return true iff columns exists in table within db. table - keyword or string column - keyword or string</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L294">view source</a></div></div><div class="public anchor" id="var-column-meta-data"><h3>column-meta-data</h3><div class="usage"><code>(column-meta-data db-handle table)</code></div><div class="doc"><div class="markdown"><p>Return seq of column meta data, for table in db</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L255">view source</a></div></div><div class="public anchor" id="var-column-name"><h3>column-name</h3><div class="usage"><code>(column-name column)</code></div><div class="doc"><div class="markdown"><p>Return column-name as :keyword for column column - either a string/keyword (then default datatype: string),  or seq-of [:name :type] return vector with name and type. Used for internal map with new tables/columns within transaction.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L154">view source</a></div></div><div class="public anchor" id="var-column-with-datatype"><h3>column-with-datatype</h3><div class="usage"><code>(column-with-datatype db-spec record column-name)</code></div><div class="doc"><div class="markdown"><p>Determine SQL datatype of column within record. Return seq of columnname and SQL-datatype. datatype could be more than one :keyword</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L412">view source</a></div></div><div class="public anchor" id="var-columns"><h3>columns</h3><div class="usage"><code>(columns db-handle table)</code></div><div class="doc"><div class="markdown"><p>Return set of column names (as keywords) in table in database table can be a string or keyword. Look in both DB metadata (with query) as well as newly added tables/columns (in cache)</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L284">view source</a></div></div><div class="public anchor" id="var-create-table"><h3>create-table</h3><div class="usage"><code>(create-table db-handle table columns)</code></div><div class="doc"><div class="markdown"><p>Create a table table: :keyword or string columns: vector of: :keyword, string, vector (name, type) or map (:name, :type). always include a generated ‘id’ column. Iff an id-field exists in columns, create an ‘id_’ field. return - void.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L208">view source</a></div></div><div class="public anchor" id="var-current-connection"><h3>current-connection</h3><div class="usage"><code>(current-connection db-handle)</code></div><div class="doc"><div class="markdown"><p>Return current connection/transaction handle, or the db-spec if none exists. Use for working within transactions.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L100">view source</a></div></div><div class="public anchor" id="var-db-class-map"><h3>db-class-map</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Mapping of java-class to conversion function wrt sql types JSR310 LocalDate and LocalDateTime are supported, no need for conversion.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L388">view source</a></div></div><div class="public anchor" id="var-db-value"><h3>db-value</h3><div class="usage"><code>(db-value val)</code></div><div class="doc"><div class="markdown"><p>Convert a value to a type understood by jdbc/sql. Can also be some JSR 310 types</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L399">view source</a></div></div><div class="public anchor" id="var-db-values"><h3>db-values</h3><div class="usage"><code>(db-values record)</code></div><div class="doc"><div class="markdown"><p>Convert values in record/map to SQL types</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L407">view source</a></div></div><div class="public anchor" id="var-dquoted"><h3>dquoted</h3><div class="usage"><code>(dquoted par)</code></div><div class="doc"><div class="markdown"><p>Convert par to a string and surround it with double quotes. With respect to bracketed table and column names for reserved words. This seems to work both in SQLite and Postgres (Postgres does not like brackets)</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L132">view source</a></div></div><div class="public anchor" id="var-dquoted-record"><h3>dquoted-record</h3><div class="usage"><code>(dquoted-record record)</code></div><div class="doc"><div class="markdown"><p>Convert keys in record/map to string and surround with double quotes. Wrt using reserved words in the table. Maybe only do this for the list of 145 (SQlite) reserved words</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L327">view source</a></div></div><div class="public anchor" id="var-exec"><h3>exec</h3><div class="usage"><code>(exec db-handle sql)</code><code>(exec db-handle sql params)</code></div><div class="doc"><div class="markdown"><p>Execute a DDL/DML query. Also handle optional params-sequence given.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L494">view source</a></div></div><div class="public anchor" id="var-get-first-id"><h3>get-first-id</h3><div class="usage"><code>(get-first-id db-handle res)</code></div><div class="doc"><div class="markdown"><p>Return created id of first row of result-set. This is different for SQLite and Postgres</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L306">view source</a></div></div><div class="public anchor" id="var-id-spec"><h3>id-spec</h3><div class="usage"><code>(id-spec handle)</code><code>(id-spec handle id-field)</code></div><div class="doc"><div class="markdown"><p>Generate id-column spec for database type, given db handle</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L174">view source</a></div></div><div class="public anchor" id="var-in-transaction"><h3>in-transaction</h3><h4 class="type">macro</h4><div class="usage"><code>(in-transaction handle &amp; body)</code></div><div class="doc"><div class="markdown"><p>Run body expressions in a transaction based on handle. Works in conjunction with set-transaction and current-transaction. Returns result of last expression</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L110">view source</a></div></div><div class="public anchor" id="var-in-transaction.3F"><h3>in-transaction?</h3><div class="usage"><code>(in-transaction? db-handle)</code></div><div class="doc"><div class="markdown"><p>Return true if handle is currently within a transaction</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L71">view source</a></div></div><div class="public anchor" id="var-insert"><h3>insert</h3><div class="usage"><code>(insert db-handle table record)</code></div><div class="doc"><div class="markdown"><p>Insert record into table, adding table/columns if needed. Default/pessimistic version: first check if table and columns exist and create/alter table where needed; then insert record. Also call db-values on record.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L453">view source</a></div></div><div class="public anchor" id="var-insert-no-check"><h3>insert-no-check</h3><div class="usage"><code>(insert-no-check db-handle table record)</code></div><div class="doc"><div class="markdown"><p>Insert record into table, no checks if table/columns exist. Return generated id.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L335">view source</a></div></div><div class="public anchor" id="var-insert-opt"><h3>insert-opt</h3><div class="usage"><code>(insert-opt db-handle table record)</code></div><div class="doc"><div class="markdown"><p>Insert record into table, adding table/columns if needed. Optimistic version: first try to insert; if fails, add table/column(s) and try again. This version might be faster, need some tests.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L466">view source</a></div></div><div class="public anchor" id="var-log.21"><h3>log!</h3><div class="usage"><code>(log! arg)</code><code>(log! msg arg)</code></div><div class="doc"><div class="markdown"><p>Log argument to stdout and return it</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L19">view source</a></div></div><div class="public anchor" id="var-map-kv"><h3>map-kv</h3><div class="usage"><code>(map-kv f coll)</code></div><div class="doc"><div class="markdown"><p>Apply f to very val in coll, return result</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L314">view source</a></div></div><div class="public anchor" id="var-map-kv-key"><h3>map-kv-key</h3><div class="usage"><code>(map-kv-key f coll)</code></div><div class="doc"><div class="markdown"><p>Apply f to every key in coll, return result</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L320">view source</a></div></div><div class="public anchor" id="var-new-columns"><h3>new-columns</h3><div class="usage"><code>(new-columns db-spec cols record)</code></div><div class="doc"><div class="markdown"><p>Determine new columns (including types) for table based on record. cols - the current columns of table (seq of keywords) record - the hashmap with needed columns of table (columns als keywords) return - seq of new columns</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L421">view source</a></div></div><div class="public anchor" id="var-open-db"><h3>open-db</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Deprecated, use open-db-sqlite</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L43">view source</a></div></div><div class="public anchor" id="var-open-db-spec"><h3>open-db-spec</h3><div class="usage"><code>(open-db-spec db-spec)</code></div><div class="doc"><div class="markdown"><p>Open DB connection given a spec, could be SQLite or Postgresql, maybe others</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L47">view source</a></div></div><div class="public anchor" id="var-open-db-sqlite"><h3>open-db-sqlite</h3><div class="usage"><code>(open-db-sqlite db-name)</code></div><div class="doc"><div class="markdown"><p>Open SQLite DB and return handle (SQLiteConnection for now, could be changed. Return connection both directly in map as within returned db-spec within map. db-name - path to DB, existing or new, as string</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L30">view source</a></div></div><div class="public anchor" id="var-query"><h3>query</h3><div class="usage"><code>(query db-handle sql)</code><code>(query db-handle sql params)</code></div><div class="doc"><div class="markdown"><p>Perform a SQL (select) query, return sequence of maps. Also handle optional params-sequence given.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L486">view source</a></div></div><div class="public anchor" id="var-set-init-function"><h3>set-init-function</h3><div class="usage"><code>(set-init-function db-handle f)</code></div><div class="doc"><div class="markdown"><p>Set a function to be executed on each new connection/transaction. Function should accept one parameter, the db handle.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L65">view source</a></div></div><div class="public anchor" id="var-set-transaction"><h3>set-transaction</h3><div class="usage"><code>(set-transaction db-handle t-con)</code></div><div class="doc"><div class="markdown"><p>Mark transaction handle given by with-db-transaction in this handle. Also exec init-function on this transaction iff it is set. Keep list of new tables/columns created in this transaction. Also call :init-function when given (eg. for percentile function). Fail if transaction already started</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L76">view source</a></div></div><div class="public anchor" id="var-sql-db-type"><h3>sql-db-type</h3><div class="usage"><code>(sql-db-type db-spec value)</code></div><div class="doc"><div class="markdown"><p>Determine sql type of a value For now only integer, float, string and date-time types for Postgres. Default to varchar if no match. sql-type dependent on db-spec, eg with date/time values. throws an exception if type cannot be determined. (maybe should return varchar in that case)</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L372">view source</a></div></div><div class="public anchor" id="var-sql-db-types"><h3>sql-db-types</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>SQL types for combinations of database and Clojure/Java values Includes defaults per datatype and also per database type.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L347">view source</a></div></div><div class="public anchor" id="var-surround-brackets"><h3>surround-brackets</h3><div class="usage"><code>(surround-brackets par)</code></div><div class="doc"><div class="markdown"><p>Convert par to a string and surround it with brackets. Wrt bracketed table and column names for reserved words</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L124">view source</a></div></div><div class="public anchor" id="var-table-exists.3F"><h3>table-exists?</h3><div class="usage"><code>(table-exists? db-handle table)</code></div><div class="doc"><div class="markdown"><p>Given db-handle and table, returns true iff table exists within DB, false otherwise. Table can be keyword or string.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L271">view source</a></div></div><div class="public anchor" id="var-table-meta-data"><h3>table-meta-data</h3><div class="usage"><code>(table-meta-data db-handle)</code></div><div class="doc"><div class="markdown"><p>Return seq of table meta data, but for now without column info</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L246">view source</a></div></div><div class="public anchor" id="var-tables"><h3>tables</h3><div class="usage"><code>(tables db-handle)</code></div><div class="doc"><div class="markdown"><p>Return sequence of table names (as keywords) in database.</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L263">view source</a></div></div><div class="public anchor" id="var-unset-transaction"><h3>unset-transaction</h3><div class="usage"><code>(unset-transaction db-handle)</code></div><div class="doc"><div class="markdown"><p>Unmark transaction handle given by with-db-transaction in this handle. Reset new columns/tables, should be available als meta-data after commit. Fail if no transaction started</p></div></div><div class="src-link"><a href="https://github.com/ndevreeze/flexdb/blob/master/src/ndevreeze/flexdb.clj#L89">view source</a></div></div></div></body></html>